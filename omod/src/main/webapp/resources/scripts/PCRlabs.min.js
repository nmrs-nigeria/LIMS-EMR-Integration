
  // Get rid of small loading animation
  [...document.querySelectorAll(".input-location-dependant")].forEach(element =>
    element.classList.toggle("d-none")
  );

  // Function to set multiple attributes at once
  const _setAttributes = (el, attrs) => {
    for (var key in attrs) {
      el.setAttribute(key, attrs[key]);
    }
  };

  const togglePCR = target => {
    let _state = target.value,                                                         // Get value of state
      selectPCROption = ["Select PCR Lab..."],                                            // Define this once so as not to repeat it multiple times
      pcrList = {
        Abia: [
          ""
        ],
        Adamawa: [
          ""
        ],
        AkwaIbom: [
          "University of Uyo teaching Hospital (UUTH) Uyo"
        ],
        Anambra: [
          "Chukwuemeka Odumegwu Ojukwu University Teaching Hospital (COOUTH)",
          "Nnamdi Azikiwe University Teaching Hospital (NAUTH)"
        ],

        Bauchi: [
          ""
        ],

        Bayelsa: [
          ""
        ],
        Benue: [
          "Federal Medical Center Makurdi"
        ],
        Borno: [
          "University of Maiduguri Teaching Hospital (UMTH) Maiduguri"
        ],
        CrossRiver: [
          ""
        ],

        Delta: [
          ""
        ],

        Ebonyi: [
          ""
        ],
        Edo: [
          ""
        ],

        Ekiti: [
          ""
        ],
        Rivers: [
          "Rivers State University Hospital (RSUTH)"
        ],
        Enugu: [
          ""
        ],
        FCT: [
          "Defence Reference laboratory (DRL) Abuja",
          "National Reference Laboratory Gaduwa (NRL) Abuja",
          "Asokoro Laboratory and Training Center",
          "University Of Abuja Teaching Hospital PCR Lab"
        ],
        Gombe: [
          "Federal Teaching Hospital (FTH) Gombe"
        ],
        Imo: [
          ""
        ],
        Jigawa: [
          ""
        ],
        Kaduna: [
          "Ahmadu Bello University Teaching Hospital (ABUTH)"
        ],
        Kano: [
          "Aminu Kano Teaching Hopital PCR Lab"
        ],
        Katsina: [
          ""
        ],
        Kebbi: [
          ""
        ],
        Kogi: [
          ""
        ],
        Kwara: [
          ""
        ],
        Lagos: [
          "Lagos State University Teaching Hospital (LASUTH) Lagos",
          "Nigerian Institute of Medical Research (NIMR) Lagos",
          "68 NARH Yaba, Lagos"
        ],
        Nassarawa: [
          ""
        ],
        Niger: [
          ""
        ],
        Ogun: [
          ""
        ],
        Ondo: [
          ""
        ],
        Osun: [
          "Obafemi Awolowo University Teaching Hospital (OAUTH) Ile-Ife"
        ],
        Oyo: [
          "University College Hospital Ibadan"
        ],
        Plateau: [
          "Jos University Teaching Hospital (JUTH) Jos",
          "Plateau State Human Virology Research Center"
        ],
        Sokoto: [
          "Usman Danfodio University Teaching Hospital (UDUTH)"
        ],
        Taraba: [
          "Federal Medical Center Jalingo"
        ],
        Yobe: [
          ""
        ],
        Zamfara: [
          ""
        ]
      }[_state],                                                                       // Ternary switch operator to show list of PCRs based on chosen state
      pcrs = [...selectPCROption, ...Object.values(pcrList)],                         // Join select PCR option with list of PCRs
      form = target.parentElement.parentElement.parentElement.parentElement,          // Get parent up to the forth generation just in case LGA select element is deeply nested
      pcrSelect = form.querySelector(".select-pcr"),                                  // Get the PCR select element
      length = pcrSelect.options.length;                                              // Get number of options already existing in PCR select element

    // Clear PCR select element
    for (i = length - 1; i >= 0; i--) {
      pcrSelect.options[i] = null;
    }

    // Populate PCR select element
    pcrs.forEach(pcr => {
      let opt = document.createElement("option");                                     // Create option element
      opt.appendChild(document.createTextNode(pcr));                                  // Append PCR to it
      opt.value = pcr;                                                                // Set the value to PCR

      // Make option asking you to select unclickable
      pcr.includes("elect")
        ? setAttributes(opt, { disabled: "disabled", selected: "selected" })
        : "";

      // Add this option element to PCR select element
      pcrSelect.appendChild(opt);
    });
  };

  
