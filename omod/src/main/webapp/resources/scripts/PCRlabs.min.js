
  // Get rid of small loading animation
  [...document.querySelectorAll(".input-location-dependant")].forEach(element =>
    element.classList.toggle("d-none")
  );

  // Function to set multiple attributes at once
  const _setAttributes = (el, attrs) => {
    for (var key in attrs) {
      el.setAttribute(key, attrs[key]);
    }
  };

  const togglePCR = target => {
    let _pcr_lab = target.value,                                                         // Get value of state
      selectPCROption = ["Select PCR Lab..."],                                            // Define this once so as not to repeat it multiple times
      pcrList = {
        NARH_Yaba_Lagos: [
          "LIMS250003"
        ],
        Ahmadu_Bello_University_Teaching_Hospital: [
          "LIMS250003"
        ],
        Aminu_Kano_Teaching_Hopital_PCR_Lab: [
          "LIMS200001"
        ],
        Asokoro_Laboratory_and_Training_Center: [
          "LIMS150003"
        ],

        Chukwuemeka_Odumegwu_Ojukwu_University_Teaching_Hospital: [
          "LIMS040001"
        ],

        Defence_Reference_laboratory_Abuja: [
          "LIMS150001"
        ],
        Federal_Medical_Center_Jalingo: [
          "LIMS350001"
        ],
        Federal_Medical_Center_Makurdi: [
          "LIMS070001"
        ],
        Federal_Teaching_Hospital_Gombe: [
          "LIMS160001"
        ],

        Jos_University_Teaching_Hospital: [
          "LIMS320001"
        ],

        Lagos_State_University_Teaching_Hospital: [
          "LIMS250001"
        ],
        National_Reference_Laboratory_Gaduwa_Abuja: [
          "LIMS150002"
        ],

        Nigerian_Institute_of_Medical_Research_Lagos: [
          "LIMS250002"
        ],
        Nnamdi_Azikiwe_University_Teaching_Hospital: [
          "LIMS040002"
        ],
        Obafemi_Awolowo_University_Teaching_Hospital: [
          "LIMS300001"
        ],
        Plateau_State_Human_Virology_Research_Center: [
          "LIMS320002"
        ],
        Rivers_State_University_Hospital: [
          "LIMS330001"
        ],
        University_College_Hospital_Ibadan: [
          "LIMS310001"
        ],
        University_Of_Abuja_Teaching_Hospital_PCR_Lab: [
          "LIMS150004"
        ],
        University_of_Maiduguri_Teaching_Hospital_Maiduguri: [
          "LIMS080001"
        ],
        University_of_Uyo_teaching_Hospital: [
          "LIMS030001"
        ],
        Usman_Danfodio_University_Teaching_Hospital: [
          "LIMS340001"
        ]
      }[_pcr_lab],                                                                       // Ternary switch operator to show list of PCRs based on chosen state
      pcrs = [...selectPCROption, ...Object.values(pcrList)],                         // Join select PCR option with list of PCRs
      form = target.parentElement.parentElement.parentElement.parentElement,          // Get parent up to the forth generation just in case LGA select element is deeply nested
      pcrSelect = form.querySelector(".select-pcr"),                                  // Get the PCR select element
      length = pcrSelect.options.length;                                              // Get number of options already existing in PCR select element

    // Clear PCR select element
    for (i = length - 1; i >= 0; i--) {
      pcrSelect.options[i] = null;
    }

    // Populate PCR select element
    pcrs.forEach(pcr => {
      let opt = document.createElement("option");                                     // Create option element
      opt.appendChild(document.createTextNode(pcr));                                  // Append PCR to it
      opt.value = pcr;                                                                // Set the value to PCR

      // Make option asking you to select unclickable
      pcr.includes("elect")
        ? setAttributes(opt, { disabled: "disabled", selected: "selected" })
        : "";

      // Add this option element to PCR select element
      pcrSelect.appendChild(opt);
    });
  };

  
